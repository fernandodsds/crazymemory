<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
  <title>.:: Mem√≥ria ::.</title>
	<meta charset="utf-8">
  <script language="JavaScript" type="text/javascript">
  <!--

	// Variaveis Globais
	var estaVirado = new Array();
	var cartas = new Array();
	var turno = false;
	var jogada= 0;
	var cartaC;
	var click =0;
	var habilitado = new Array();
	var jogador1 = 0;
	var jogador2 = 0;
	var cartasVirada = 0;


	for (i=0; i<10; i++){
    	estaVirado[i] = true;
    	habilitado[i] = true;
	}
	cartas[0] = "carta2.png"; 
	cartas[1] = "carta1.png"; 
	cartas[2] = "carta5.png"; 
	cartas[3] = "carta1.png"; 
	cartas[4] = "carta5.png"; 
	cartas[5] = "carta3.png"; 
	cartas[6] = "carta2.png"; 
	cartas[7] = "carta4.png"; 
	cartas[8] = "carta4.png"; 
	cartas[9] = "carta3.png";
	

	function normal(){
		document.getElementById(img0.id).src="monte.gif";
  		document.getElementById(img1.id).src="monte.gif";
  		document.getElementById(img2.id).src="monte.gif";
  		document.getElementById(img3.id).src="monte.gif";
  		document.getElementById(img4.id).src="monte.gif";
  		document.getElementById(img5.id).src="monte.gif";
  		document.getElementById(img6.id).src="monte.gif";
  		document.getElementById(img7.id).src="monte.gif";
  		document.getElementById(img8.id).src="monte.gif";
  		document.getElementById(img9.id).src="monte.gif";
	} 

  // Embaralhar	o vetor acima usando o Math.random();
  	function embaralhar(){
  		for (var i = 0; i <= 9; i++) {
  			carta = cartas[i];
  			qualCarta = parseInt((Math.random()*10));
  			cartas[i] = cartas[qualCarta];
  			cartas[qualCarta] = carta;
  		};

  		document.getElementById(img0.id).src=cartas[0];
  		document.getElementById(img1.id).src=cartas[1];
  		document.getElementById(img2.id).src=cartas[2];
  		document.getElementById(img3.id).src=cartas[3];
  		document.getElementById(img4.id).src=cartas[4];
  		document.getElementById(img5.id).src=cartas[5];
  		document.getElementById(img6.id).src=cartas[6];
  		document.getElementById(img7.id).src=cartas[7];
  		document.getElementById(img8.id).src=cartas[8];
  		document.getElementById(img9.id).src=cartas[9];
  		setTimeout("normal()",3000);
  		
  	}
	
    function mudaImagem(objeto){
		   qualCarta = parseInt(objeto.id[3]);
			if (habilitado[qualCarta] == true) {
			 
 				
 			if (estaVirado[qualCarta]){
			 	document.getElementById(objeto.id).src=cartas[qualCarta];
			 	click++;
			 	estaVirado[qualCarta]= false;
	 					
				 }

 			if (click%2==0) { 	
 						 				 				 				
 				if (objeto.src == cartaC.src) {
 					cartasVirada++;
 					
 					if (jogada%2 ==0) {
 						jogador1++;
 						
 					}else{	
 						jogador2++;
 						
 					};
 					
 					habilitado[qualCarta]= false;
 					habilitado[parseInt(objeto.id[3])]= false;
 					
 					if (cartasVirada == 5) {
 					if (jogador1>jogador2) {
 						alert("jogador1 Ganhou \n\njogador1 = "+ jogador1.toString()+" jogador2 = "+jogador2.toString());
 						window.location.reload() 
 					}else{
 						alert("jogador2 Ganhou \n\njogador1 = "+ jogador1.toString()+" jogador2 = "+jogador2.toString());
 						window.location.reload() 
 					};
 				 };
 				jogada--;
 				}
 				else
 					{
 						estaVirado[qualCarta]= true;
 						estaVirado[parseInt(cartaC.id[3])] = true;
					for (i=0; i<=9; i++){
				    	habilitado[i] = false;
					}
 					setTimeout(function time()
 					{
 						document.getElementById(objeto.id).src="monte.gif";
 						document.getElementById(cartaC.id).src="monte.gif";
 						for (i=0; i<=9; i++){
 							
 							if (estaVirado[i]!= false) {habilitado[i] = true;};
				    		
							
						};
 					},1000);
 					
 					}
 					jogada++;
 					if (jogada%2 ==0) {
 						document.getElementById('turno').innerHTML='Vez do jogador1';
 						
 					}else{	
 						document.getElementById('turno').innerHTML='Vez do jogador2';
 						
 					};
 			}else{cartaC = objeto;};
 			};
 			 
		}
  </script>
 			
</head>
<body onload="embaralhar();" bgcolor="#333333">
 <center>
 <span><img src="m5yehCsc.gif"><br><br></span>
 <img src="monte.gif" id="img0" onClick="mudaImagem(this);">
 <img src="monte.gif" id="img1" onClick="mudaImagem(this);">
 <img src="monte.gif" id="img2" onClick="mudaImagem(this);">
 <img src="monte.gif" id="img3" onClick="mudaImagem(this);">
 <img src="monte.gif" id="img4" onClick="mudaImagem(this);">
<BR>

 <img src="monte.gif" id="img5" onClick="mudaImagem(this);">
 <img src="monte.gif" id="img6" onClick="mudaImagem(this);">
 <img src="monte.gif" id="img7" onClick="mudaImagem(this);">
 <img src="monte.gif" id="img8" onClick="mudaImagem(this);">
 <img src="monte.gif" id="img9" onClick="mudaImagem(this);">
</center>
<hr>
<h1 id="turno">Vez do jogador1</h1>

			 
			 
</body>
</html>
